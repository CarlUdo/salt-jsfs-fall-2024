<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script>
    const getUsers = htmlElement => {     
      fetch('https://randomuser.me/api/?gender=female&results=30')
        .then(response => response.json())
        /* .then(data => htmlElement.innerHTML = data.results.length ); */
        .then(data => {
          data.results.forEach((user, index) => {
            const name = `${user.name.title} ${user.name.first} ${user.name.last}`;
            const picture = user.picture.thumbnail;
           
            // div element
            divElement = document.createElement('div');
            divElement.setAttribute('id', `index_${index + 1}`);

            // h2 element
            const h2Element = document.createElement('h2');
            h2Element.innerHTML = name;            
            divElement.appendChild(document.createElement('h2'));

            // img element
            const imgElement = document.createElement('img');
            imgElement.setAttribute('src', picture);
            divElement.appendChild(imgElement);

            // append to main tag
            htmlElement.appendChild(divElement);
          });
        })
    };

    document.addEventListener('DOMContentLoaded', () => {
      const mainElement = document.querySelector('main');
      getUsers(mainElement); 
    });       
  </script>
</head>
<body>
  <main></main>  
</body>
</html>
